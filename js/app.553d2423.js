(function(){"use strict";var e={6774:function(e,t,n){var i=n(7195),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],a={name:"App",components:{}},c=a,s=n(3736),u=(0,s.Z)(c,r,o,!1,null,null,null),l=u.exports,f=n(2241),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[e._m(0),t("iframe",{ref:"iframe",attrs:{src:e.htmlSrc,width:"500px",height:"500px",frameborder:"0"}}),t("button",{on:{click:e.vueSendMsg}},[e._v("vue向iframe传递信息")]),t("button",{on:{click:e.iframeMethods}},[e._v("触发iframe中的方法")])])},v=[function(){var e=this,t=e._self._c;return t("div",[t("video",{attrs:{id:"gum-local",autoplay:"",playsinline:""}})])}],h={data(){return{as:null,htmlSrc:"/aa.html",facilityId:""}},components:{},created(){},methods:{async getVideoConfig(){navigator.mediaDevices.enumerateDevices().then((async e=>{if(e=e.reverse(),console.log(e,"fejofjeo"),console.log(JSON.stringify(e,16),"全部数据列表"),0==e.length)return;let t=e.filter((e=>"videoinput"==e.kind&&(""==e.label||e.label?.includes("back")||e.label?.includes("后置"))));0==t.length&&(t=e.filter((e=>"videoinput"==e.kind)));for(let o=0;o<t.length;o++)t[o]?.label?.includes("0")&&(this.facilityId=t[o]?.deviceId||"");this.facilityId||(this.facilityId=t[0]?.deviceId||""),console.log(this.facilityId,"当前设备id");const n={audio:!1,video:{deviceId:this.facilityId?{exact:this.facilityId}:void 0}},i=await navigator.mediaDevices.getUserMedia(n),r=document.querySelector("video");r.srcObject=i,navigator.mediaDevices.enumerateDevices().then((e=>{console.log(e,"再次获取的数据")}))}))},getiframeMsg(e){const t=e.data;console.log(e),"myIframe"==t.cmd&&(console.log(t,"iframe给组件传递"),this.vueSendMsg())},vueSendMsg(){const e=this.$refs.iframe.contentWindow;e.postMessage({cmd:"myVue",params:{info:"Vue向iframe传递的消息"}},"*")},iframeMethods(){this.$refs.iframe.contentWindow.triggerByVue("通过Vue触发iframe中的方法")}},mounted(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((e=>{e.getTracks().forEach((e=>e.stop())),this.getVideoConfig()})).catch((e=>{console.log(e)})),window.addEventListener("message",this.getiframeMsg),this.vueSendMsg()}},g=h,m=(0,s.Z)(g,d,v,!1,null,"5552312a",null),p=m.exports;i.ZP.use(f.Z);const y=[{path:"/",redirect:"/ff"},{path:"/ff",component:p}],b=new f.Z({routes:y});var w=b,O=n(8871),M=n.n(O);let k=new(M());i.ZP.use(k),i.ZP.config.productionTip=!1,new i.ZP({router:w,render:e=>e(l)}).$mount("#app")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,o){if(!i){var a=1/0;for(l=0;l<e.length;l++){i=e[l][0],r=e[l][1],o=e[l][2];for(var c=!0,s=0;s<i.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[s])}))?i.splice(s--,1):(c=!1,o<a&&(a=o));if(c){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,a=i[0],c=i[1],s=i[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var l=s(n)}for(t&&t(i);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},i=self["webpackChunktest"]=self["webpackChunktest"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6774)}));i=n.O(i)})();
//# sourceMappingURL=app.553d2423.js.map